<!DOCTYPE html>
<html>
    <head>
        <script src="https://kit.fontawesome.com/650b8f6d70.js" crossorigin="anonymous"></script>
        <link  href="/css/home.css" rel="stylesheet"  type="text/css">
        <script src="/jQuery/jquery-3.6.0.js"></script>
        
        <title>
            To Do List
        </title>
    </head>
    <body>
       
        <h1>
           TODO App
        </h1>
        <form action="/add" method="POST" id="senddata">
        <div class = "TextField" >
           <h3 style="font-weight:lighter; padding: 0%; margin : 0%; margin-left:3px;color: rgb(148, 138, 138); font-size: 15px;">Description</h3>
           <div>
            
             <input type="text" id="Description" name ="Description" placeholder="Enter Details" required>

           </div>
        </div>
        <div style="display: flex;">
        <div id="Select">
            <h3
                style="font-weight:lighter; padding: 0%; margin : 0%; margin-left:3px;color: rgb(148, 138, 138); font-size: 15px;">
                Category</h3>
            <div>
                <select id ="DropDown" name ="Category" required>
                    <option value="null">Choose a Category</option>
                    <option value ="Personal">Personal</option>
                    <option value ="Work">Work</option>
                    <option value="School">School</option>
                    <option value="Other">Other</option>
                </select>
               
                <!-- <input type="text" id="DropDown" value="" name="Description" placeholder="Enter Details"> -->
        
            </div>
        </div>
        <div id ="Cal">
            <h3 style="font-weight:lighter; padding: 0%; margin : 0%; margin-left:3px;color: rgb(148, 138, 138); font-size: 15px;">
                Due Date</h3>
                <input type = "date" id = "calDrop"  name ="Date" placeholder="dd/mm/yyy" required>
        </div>
        </div>
        
        <div id="Buttons" style="margin-top: 10%; text-align: center;">
            <button id ="Addition" class="btn" type="submit"><i class="fas fa-plus" ></i> ADD </button>
        </form>
            <form action="/delete" method="POST">
           <button id ="Delete" type ="submit" class="btn" style="background-color: red;"><i class="fas fa-trash-alt"></i> DELETE </button></a>
        </div>
        <!-- <div style="height: 10%;"></div> -->
        <div style="margin-top: 10%;">
            <div style="width: 100%; height: 2px; background-color: rgb(209, 194, 194);"></div>
            <%for(let i of details){%>
            <div class = "TextField" style="border-top: transparent; text-align: space-between;";" >
                
                <div style="display: inline;">
                <input type="checkbox" value="<%=i._id%>" style="display: inline;" name ="checkboxValue">
                </div>
                <div style="display: inline; margin-left: 10%; align-items: flex-start;">
                    <span style="margin: 0%;padding: 0%;"><%=i.Description%></span>
                    <div>
                        <i class="far fa-calendar-alt"></i>
                        <span><%=i.Date%></span>
                    </div>
                </div>
                <div style="display: inline;">
                    <button id="<%=i._id%>"><%=i.Category%> </button>
                </div>
                <script>
                                    console.log('<%=i._id%>', '<%=i.Category%>');
                                    var cat="<%=i.Category%>";
                                    console.log(cat);
                                    // document.getElementById(<%=i._id %>")
                                    //  $('#<%=i._id%>').css("background-color", "green");
                                    if(cat.localeCompare("Personal")==0){
                                        $('#<%=i._id%>').css("background-color","green");
                                    }
                                    else if(cat.localeCompare("School") == 0){
                                         $('#<%=i._id%>').css("background-color", "yellow");
                                    }
                                    else if(cat.localeCompare("Work") == 0){
                                         $('#<%=i._id%>').css("background-color", "blue");
                                    }
                                    else{
                                        $('#<%=i._id%>').css("background-color", "red");
                                    }
                                </script>
                                
            </div>
            <%}%>
            </form>
            <!-- <script>
                var valuetoBeSent = "";
                $('#Delete').on('click',function(){
                   
                   const checkboxs = document.querySelectorAll(`input[name="checkboxValue"]:checked`);
                   checkboxs.forEach((checkbox)=>{
                       valuetoBeSent+=checkbox.value+',';
                   });
                   if(valuetoBeSent.length==0){
                       alert("No value selected");
                       event.preventDefault();
                   }
                   console.log(valuetoBeSent);

                });
            </script> -->
        <script src="/js/home.js" type="text/javascript"></script>
        </div>
        
    </body>
</html>